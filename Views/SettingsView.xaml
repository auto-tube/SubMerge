<UserControl x:Class="AutoTubeWpf.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:AutoTubeWpf.Views"
             xmlns:viewmodels="clr-namespace:AutoTubeWpf.ViewModels"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance Type=viewmodels:SettingsViewModel}"> <!-- Design-time DataContext -->

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="15">
        <StackPanel>

            <TextBlock Text="API Keys" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>

            <!-- Google API Key -->
            <TextBlock Text="Google API Key:" Margin="0,5,0,2"/>
            <TextBox Text="{Binding GoogleApiKey, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

            <!-- AWS Credentials -->
            <TextBlock Text="AWS Access Key ID:" Margin="0,5,0,2"/>
            <TextBox Text="{Binding AwsAccessKeyId, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

            <TextBlock Text="AWS Secret Access Key:" Margin="0,5,0,2"/>
            <!-- Consider using PasswordBox with a helper for better security -->
            <TextBox Text="{Binding AwsSecretAccessKey, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>

            <TextBlock Text="AWS Region Name:" Margin="0,5,0,2"/>
            <TextBox Text="{Binding AwsRegionName, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,15"/>


            <TextBlock Text="Output Settings" FontWeight="Bold" FontSize="16" Margin="0,15,0,10"/>

            <!-- Default Output Path -->
            <TextBlock Text="Default Output Folder:" Margin="0,5,0,2"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0" Text="{Binding DefaultOutputPath, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,5,0" VerticalContentAlignment="Center"/>
                <Button Grid.Column="1" Content="Browse..." Command="{Binding BrowseOutputFolderCommand}" Padding="10,5"/>
            </Grid>

            <!-- Organize Output -->
            <CheckBox IsChecked="{Binding OrganizeOutput}" Content="Organize output files into subfolders" Margin="0,15,0,15"/>


            <TextBlock Text="Appearance" FontWeight="Bold" FontSize="16" Margin="0,15,0,10"/>

            <!-- Theme Selection -->
            <TextBlock Text="Theme:" Margin="0,5,0,2"/>
            <ComboBox ItemsSource="{Binding AvailableThemes}"
                      SelectedItem="{Binding SelectedTheme}"
                      Margin="0,0,0,20"/>


            <!-- Save Button -->
            <Button Content="Save Settings"
                    Command="{Binding SaveSettingsAsyncCommand}"
                    HorizontalAlignment="Left"
                    Padding="15,8"
                    FontWeight="SemiBold"
                    Margin="0,20,0,0"/>

        </StackPanel>
    </ScrollViewer>
</UserControl>